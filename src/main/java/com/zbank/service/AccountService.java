package com.zbank.service;import com.zbank.entity.Account;import com.zbank.entity.User;import com.zbank.repository.AccountRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import java.math.BigDecimal;import java.util.Optional;@Servicepublic class AccountService {    @Autowired    private AccountRepository accountRepository;    public Account createAccount(User user, String accountNumber, BigDecimal initialBalance) {        if (accountRepository.findByAccountNumber(accountNumber).isPresent()) {            throw new RuntimeException("Account number already exists");        }        Account account = new Account();        account.setUser(user);        account.setAccountNumber(accountNumber);        account.setBalance(initialBalance);        return accountRepository.save(account);    }    public Optional<Account> getAccountDetails(String accountNumber) {        return accountRepository.findByAccountNumber(accountNumber);    }    public Account updateAccountBalance(Account account, BigDecimal amount) {        account.setBalance(account.getBalance().add(amount));        return accountRepository.save(account);    }}